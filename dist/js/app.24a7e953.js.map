{"version":3,"file":"js/app.24a7e953.js","mappings":"oCAAA,SAASA,EAAyBC,GAGjC,OAAOC,QAAQC,UAAUC,MAAK,WAC7B,IAAIC,EAAI,IAAIC,MAAM,uBAAyBL,EAAM,KAEjD,MADAI,EAAEE,KAAO,mBACHF,CACP,GACD,CACAL,EAAyBQ,KAAO,WAAa,MAAO,EAAI,EACxDR,EAAyBG,QAAUH,EACnCA,EAAyBS,GAAK,KAC9BC,EAAOC,QAAUX,C,mBCZjB,SAASA,EAAyBC,GAGjC,OAAOC,QAAQC,UAAUC,MAAK,WAC7B,IAAIC,EAAI,IAAIC,MAAM,uBAAyBL,EAAM,KAEjD,MADAI,EAAEE,KAAO,mBACHF,CACP,GACD,CACAL,EAAyBQ,KAAO,WAAa,MAAO,EAAI,EACxDR,EAAyBG,QAAUH,EACnCA,EAAyBS,GAAK,KAC9BC,EAAOC,QAAUX,C,0NCTjB,MAAMY,EAAc,EAEpB,Q,sECyBA,MAAMC,GAAaC,EAAAA,EAAAA,KAEnB,SAASC,IACDF,EAAWG,eAAeC,YAC1BJ,EAAWG,eAAeE,QAC1BL,EAAWM,iBAAkB,EAEpC,CAED,SAASC,GAAiB,OAAEC,IACxBR,EAAWG,eAAeM,KAAKD,EAAOE,OACtCV,EAAWG,eAAeQ,OAC1BX,EAAWM,iBAAkB,CAChC,CAED,SAASM,EAAaF,GAClB,MAAQ,GAAEA,OACb,C,o2BCzCD,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,Q,4DCLA,MAAMG,EAAW,uBACXC,EAAYC,EAAAA,GAAAA,UAEX,SAASC,EAAeC,GAC3B,IAAIC,EAAWL,EAAWC,EAAY,UAAYG,EAC9CE,EAAgBC,EAAAA,GAAAA,eAAyBF,GAC7C,OAAOC,CACR,CCRIE,eAAeC,IACpB,IAAIC,GAA0B,EAC9B,UACQC,EAAAA,GAAAA,UAAqB,CACzBP,KAAM,gBACNQ,KAAM,6BACNX,UAAWC,EAAAA,GAAAA,UACXW,SAAUC,EAAAA,GAAAA,MAKb,CAHC,MAAOC,GACPC,QAAQC,IAAI,mBAAmBF,GAC/BL,GAA0B,CAC3B,CACD,UACQC,EAAAA,GAAAA,SAAoB,CACxBP,KAAM,gBACNH,UAAWC,EAAAA,GAAAA,UACXW,SAAUC,EAAAA,GAAAA,MAKb,CAHC,MAAOC,GACPC,QAAQC,IAAI,mBAAmBF,GAC/BL,GAA0B,CAC3B,CACD,UACQC,EAAAA,GAAAA,WAAsB,CAC1BP,KAAM,gBACNH,UAAWC,EAAAA,GAAAA,WAKd,CAHC,MAAOa,GACPC,QAAQC,IAAI,mBAAmBF,GAC/BL,GAA0B,CAC3B,CACD,OAAOA,CACR,C,cC9BM,SAASQ,IACd,MAAM/B,GAAaC,EAAAA,EAAAA,KACnBD,EAAWgC,qBAAuB,IAAIC,EAAAA,KAAK,CAAEC,IAAK,CAAC,MAAOC,OAAO,IACjEnC,EAAWoC,wBAA0B,IAAIH,EAAAA,KAAK,CAAEC,IAAK,CAAC,MAAOC,OAAO,EAAME,UAAU,IACpFrC,EAAWG,eAAiB,IAAI8B,EAAAA,KAAK,CAAEC,IAAK,CAAC,MAAOC,OAAO,GAC5D,CAEM,SAASG,IACdT,QAAQC,IAAI,2BACZ,MAAM9B,GAAaC,EAAAA,EAAAA,KACnB,IAAID,EAAWuC,8BAAmE,IAAnCvC,EAAWwC,aAAaC,OAAvE,CAGA,IAAItB,EAAgBH,EAAehB,EAAWwC,aAAaxC,EAAW0C,OAAOC,WAAWC,KAAO,WAC/F5C,EAAWwC,aAAaxC,EAAW0C,OAAOC,WAAWE,OAErD7C,EAAWgC,qBAAqBc,OAChC9C,EAAWgC,qBAAqBe,SAChC/C,EAAWgC,qBAAqBgB,OAAS,GACzChD,EAAWgC,qBAAqBiB,KAAO9B,EACvCnB,EAAWgC,qBAAqBkB,OAChClD,EAAWgC,qBAAqBrB,MAT/B,CAUF,CAEM,SAASwC,EAA2BN,GACzChB,QAAQC,IAAI,+BACZ,MAAM9B,GAAaC,EAAAA,EAAAA,KACnBD,EAAWuC,8BAA+B,EAC1C,IAAIpB,EAAgBH,EAAehB,EAAWwC,aAAaxC,EAAW0C,OAAOC,WAAWC,KAAO,WAAaC,GAC5G7C,EAAWgC,qBAAqBc,OAChC9C,EAAWoC,wBAAwBW,SACnC/C,EAAWoC,wBAAwBY,OAAS,GAC5ChD,EAAWoC,wBAAwBa,KAAO9B,EAC1CnB,EAAWoC,wBAAwBc,OACnClD,EAAWoC,wBAAwBzB,MACpC,CAEM,SAASyC,EAAkBP,GAChChB,QAAQC,IAAI,cACZ,MAAM9B,GAAaC,EAAAA,EAAAA,KAEnB,IAAIkB,EAAgBH,EAAehB,EAAWwC,aAAaxC,EAAW0C,OAAOC,WAAWC,KAAO,WAAaC,GAC5G7C,EAAWgC,qBAAqBc,OAChC9C,EAAWoC,wBAAwBU,OACnC9C,EAAWG,eAAe4C,SAC1B/C,EAAWG,eAAe6C,OAAS,GACnChD,EAAWG,eAAe8C,KAAO9B,EACjCnB,EAAWG,eAAe+C,OAC1BlD,EAAWG,eAAeQ,MAC3B,CCtCM,SAAS0C,EAAmBC,GACjC,MAAMtD,GAAaC,EAAAA,EAAAA,KACnB,IAAK,IAAIsD,KAAcvD,EAAWwD,QAAQxD,EAAWyD,kBAClDC,YACD,GAAIH,EAAW3D,KAAO0D,EAAaC,WACjC,OAAOA,EAAWI,QAChBL,EAAaM,YAAc,EAAI,EAAIN,EAAaM,YAIvD,CAEM,SAASC,EAAmBC,GACjC,MAAM9D,GAAaC,EAAAA,EAAAA,KAEnB,IAAK,IAAI8D,KAAa/D,EAAWwD,QAAQxD,EAAWyD,kBACjDO,WACD,GAAID,EAAUE,OAASH,EACrB,OAAOC,CAGZ,CAEM,SAASG,EAAsBX,GACpC,OACwB,OAArBA,EAAWV,QAC8B,IAAxCU,EAAWY,gBAAgB9B,WACS,IAApCkB,EAAWY,gBAAgBC,OACO,IAAlCb,EAAWY,gBAAgBE,KACU,IAArCd,EAAWY,gBAAgB9D,QACU,IAArCkD,EAAWY,gBAAgBG,OACP,MAApBf,EAAWgB,OACS,OAArBhB,EAAWV,QAC8B,IAAxCU,EAAWY,gBAAgB9B,WACS,IAApCkB,EAAWY,gBAAgBC,OACO,IAAlCb,EAAWY,gBAAgBE,KACU,IAArCd,EAAWY,gBAAgB9D,QACU,IAArCkD,EAAWY,gBAAgBG,OACP,MAApBf,EAAWgB,MAEN,CAAEC,KAAM,gBAAiBlB,aAAcC,EAAWD,cAEnC,OAArBC,EAAWV,QAC8B,IAAxCU,EAAWY,gBAAgB9B,WACS,IAApCkB,EAAWY,gBAAgBC,OACO,IAAlCb,EAAWY,gBAAgBE,KACU,IAArCd,EAAWY,gBAAgB9D,QACU,IAArCkD,EAAWY,gBAAgBG,OACN,OAArBf,EAAWgB,OACS,OAArBhB,EAAWV,QAC8B,IAAxCU,EAAWY,gBAAgB9B,WACS,IAApCkB,EAAWY,gBAAgBC,OACO,IAAlCb,EAAWY,gBAAgBE,KACU,IAArCd,EAAWY,gBAAgB9D,QACU,IAArCkD,EAAWY,gBAAgBG,OACN,OAArBf,EAAWgB,MAEN,CAAEC,KAAM,kBAAmBlB,aAAcC,EAAWD,cAE/B,OAA5BC,EAAWD,cACW,OAArBC,EAAWV,QAC8B,IAAxCU,EAAWY,gBAAgB9B,WACS,IAApCkB,EAAWY,gBAAgBC,OACO,IAAlCb,EAAWY,gBAAgBE,KACU,IAArCd,EAAWY,gBAAgB9D,QACU,IAArCkD,EAAWY,gBAAgBG,OACN,OAArBf,EAAWgB,MAEN,CAAEC,KAAM,aAAclB,aAAc,MAErB,OAArBC,EAAWV,QAC8B,IAAxCU,EAAWY,gBAAgB9B,WACS,IAApCkB,EAAWY,gBAAgBC,OACO,IAAlCb,EAAWY,gBAAgBE,KACU,IAArCd,EAAWY,gBAAgB9D,QACU,IAArCkD,EAAWY,gBAAgBG,OACN,OAArBf,EAAWgB,OACS,OAArBhB,EAAWV,QAC8B,IAAxCU,EAAWY,gBAAgB9B,WACS,IAApCkB,EAAWY,gBAAgBC,OACO,IAAlCb,EAAWY,gBAAgBE,KACU,IAArCd,EAAWY,gBAAgB9D,QACU,IAArCkD,EAAWY,gBAAgBG,OACN,OAArBf,EAAWgB,OACS,OAArBhB,EAAWV,QAC8B,IAAxCU,EAAWY,gBAAgB9B,WACS,IAApCkB,EAAWY,gBAAgBC,OACO,IAAlCb,EAAWY,gBAAgBE,KACU,IAArCd,EAAWY,gBAAgB9D,QACU,IAArCkD,EAAWY,gBAAgBG,OACN,OAArBf,EAAWgB,MAEN,CAAEC,KAAM,aAAclB,aAAcC,EAAWD,cAEjC,OAArBC,EAAWV,QAC6B,IAAxCU,EAAWY,gBAAgB9B,WACS,IAApCkB,EAAWY,gBAAgBC,OACO,IAAlCb,EAAWY,gBAAgBE,KACU,IAArCd,EAAWY,gBAAgB9D,QACU,IAArCkD,EAAWY,gBAAgBG,OACN,OAArBf,EAAWgB,MAEJ,CAAEC,KAAM,gBAAiBlB,aAAcC,EAAWD,eAEzDzB,QAAQC,IAAI,iDACZD,QAAQC,IAAIyB,GAEf,CAEM,SAASkB,EAAgBnB,GAC9B,MAAMtD,GAAaC,EAAAA,EAAAA,KACnB,IAAIyE,EAAgB,GACpB,IAAK,IAAInB,KAAcvD,EAAWwD,QAAQxD,EAAWyD,kBAClDC,YACGH,EAAW3D,KAAO0D,EAAaC,aACjCmB,EAAgBnB,EAAWI,SAI/B,IAAIgB,EAAe,GACnB,IAAK,IAAIC,KAAeF,EACtB,IAAK,IAAIX,KAAa/D,EAAWwD,QAAQxD,EAAWyD,kBACjDO,WACGD,EAAUE,OAASW,IACrBb,EAAUnB,KAAO5C,EAAWwD,QAAQxD,EAAWyD,kBAAkBb,KACjE+B,EAAaE,KAAKd,IAIxB/D,EAAWwC,aAAemC,CAC3B,C,0CC/DD,MAAM3E,GAAaC,EAAAA,EAAAA,KAEb6E,EAAU,CAACC,EAAAA,IACXC,GAASC,EAAAA,EAAAA,MAsDf,SAASC,IACPrD,QAAQC,IAAI9B,GACZmF,EAAAA,EAAAA,IAAgB,CAAEC,IAAK,UAAW7F,MAAM8F,IACtCxD,QAAQC,IAAIuD,EAAO3E,MAAnB,GAEH,CAED,SAAS4E,IACPtF,EAAWgC,qBAAqBc,OAChC9C,EAAWoC,wBAAwBU,OACnC9C,EAAWG,eAAe4C,SAC1B/C,EAAWM,iBAAkB,EAC7BN,EAAWG,eAAe6C,OAAS,GACnChD,EAAWG,eAAe8C,KAAO,CAAC,MAClCjD,EAAWuF,eAAgB,EACO,OAA9BvF,EAAWwF,gBACbxF,EAAWyD,iBAAmB,KAC9BzD,EAAWyF,kBACXzF,EAAW0C,OAAOgD,YAAY,EAAG,GAAG,GACpC1F,EAAW0C,OAAOiD,KAAK,oBAGvBC,EAAiB5F,EAAWwF,eAE/B,CAED,SAASK,IACH7F,EAAWG,eAAeC,WAC5BJ,EAAWG,eAAeE,QAC1BL,EAAWM,iBAAkB,IAG7BN,EAAWG,eAAeQ,OAC1BX,EAAWM,iBAAkB,EAEhC,CAED,SAASwF,EAASpD,GAChB1C,EAAW0C,OAASA,CACrB,CAED,SAASqD,EAAsBC,GACO,OAAhChG,EAAWyD,mBACbzD,EAAWyD,iBAAmBuC,EAEjC,CAED,IAAIC,EACJ,SAASL,EAAiBtC,GAExB,GADAzB,QAAQC,IAAI,0BACPwB,GAAcC,aAAe0C,GAAiB1C,YAAgBD,GAAcM,cAAgBqC,GAAiBrC,YAIhH,OAHA/B,QAAQC,IAAI,+BACZ9B,EAAWwF,eAAiB,UAC5BF,IAGFzD,QAAQC,IAAIwB,GACZzB,QAAQC,IAAImE,GACZA,EAAkB3C,EAClBzB,QAAQC,IAAI,gDACZD,QAAQC,IAAIwB,GACZzB,QAAQC,IAAI,0BACZ,IAAIgC,EAAiBT,EAAmBC,GACxCzB,QAAQC,IAAI,0BACZD,QAAQC,IAAIgC,GACZjC,QAAQC,IAAI,0BACZD,QAAQC,IAAI,mDACZ,IAAIoE,EAAiBrC,EAAmBC,GACxCjC,QAAQC,IAAI,2BACZD,QAAQC,IAAIoE,GACZrE,QAAQC,IAAI,0BACZD,QAAQC,IAAI,mCACZ,IAAIqE,EAAmBjC,EAAsBgC,GAC7CrE,QAAQC,IAAI,kCACZD,QAAQC,IAAIqE,GACZtE,QAAQC,IAAI,yBAEkB,kBAA1BqE,EAAiB3B,MACnBrB,EAA2B+C,EAAerD,OAC1C7C,EAAWwF,eAAiBU,EAAeV,eAC3CxF,EAAW0C,OAAOgD,YAAY,EAAG,GAAG,GACpC1F,EAAWoC,wBAAwBgE,KAAK,OAAO,WAC7CpG,EAAWuC,8BAA+B,EAC1CvC,EAAW0C,OAAOiD,KAAK,kBACxB,IACDC,EAAiBM,EAAe5C,eAEC,oBAA1B6C,EAAiB3B,MACxBC,EAAgBnB,GAChBtD,EAAWuF,eAAgB,EAC3BvF,EAAW0C,OAAOgD,YAAY,EAAG,GAAG,IAEH,eAA1BS,EAAiB3B,MACxBc,IACAtF,EAAWuF,eAAgB,GAEM,eAA1BY,EAAiB3B,MACxBpB,EAAkB8C,EAAerD,OACjC7C,EAAWuF,eAAgB,EAC3BvF,EAAWwF,eAAiBU,EAAeV,eAC3Ca,aAAY,WACVrG,EAAWsG,iBAAmBtG,EAAWG,eAAeM,MACzD,GAAE,KACHT,EAAWG,eAAeiG,KAAK,OAAO,WACA,OAAhCF,EAAe5C,aACjBsC,EAAiBM,EAAe5C,eAEhCgC,IACAtF,EAAWuF,eAAgB,EAE9B,KAGD1D,QAAQC,IAAI,WAEf,C,OAxKDyE,EAAAA,EAAAA,KAAc,KACZxE,IACA/B,EAAWwG,gBAAX,KAEFC,EAAAA,EAAAA,KAAU,KACRnF,IAAsB/B,MAAM8F,IACrBA,GACH,WACE,MAAMqB,QAAcC,EAAAA,GAAAA,OAAuB,CACzCC,OAAQ,4BACRC,UAAW,0EACXC,QAAU,kGACVC,QAAS,CACP,CACEC,KAAM,mCACNC,QAAS,KACPC,OAAOC,QAAQC,QAAQC,SAASC,KAAK,uBAAuB,WAAe,GAA3E,GAGJ,CACEN,KAAM,OAGVO,SAAU,qBAENb,EAAMc,SAlBd,IAoBD,IAEHxH,EAAWyH,mBACXP,OAAOE,QAAQM,SAASC,WAAxB,IAGF3C,EAAO4C,WAAWC,IACA,SAAZA,EAAGjF,MACL5C,EAAWyH,kBACZ,IAGHzH,EAAW8H,YAAYC,IACQ,WAAzBA,EAASC,QAAQ5C,KACnB,WACE,MAAMsB,QAAcC,EAAAA,GAAAA,OAAuB,CACzCC,OAAQ,uDACRE,QAAS9G,EAAWiI,OAAOC,KAAK,YAChCnB,QAAS,CAAC,MACVQ,SAAU,qBAENb,EAAMc,SAPd,IASD,I,8zFCpIH,MAAM,EAAc,EAEpB,Q,upCCJA,MAAM,EAAc,EAEpB,QCDA,MAAMW,EAAS,CACb,CACElH,KAAM,IACNmH,SAAU,SAEZ,CACEnH,KAAM,QACN2B,KAAM,OACNyF,UAAWC,EACXC,YAAa,KACXrB,OAAOsB,OAAOC,YAAYC,KAAK,cACxB,IAGX,CACEzH,KAAM,eACNmH,SAAU,qBAEZ,CACEnH,KAAM,gBACNoH,UAAWM,EACXJ,YAAa,KACXrB,OAAOsB,OAAOC,YAAYC,KAAK,aACxB,GAETE,SAAU,CACR,CACE3H,KAAM,GACNmH,SAAU,QAEZ,CACEnH,KAAM,OACNoH,UAAW,IAAM,+BAEnB,CACEpH,KAAM,OACNoH,UAAW,IAAM,+BAEnB,CACEpH,KAAM,OACNoH,UAAW,IAAM,iCAMnBrD,GAAS6D,EAAAA,EAAAA,IAAa,CAC1BC,SAASC,EAAAA,EAAAA,IAAiBC,KAC1Bb,WAGF,Q,sGC7BAc,EAAAA,EAAAA,iBAEA,MAAMC,GAAQC,EAAAA,EAAAA,MAERC,GAAMC,EAAAA,EAAAA,IAAUC,GACnBC,IAAIC,EAAAA,IACJD,IAAIvE,GACJuE,IAAIL,GAEPlE,EAAAA,UAAiBzF,MAAK,KACpB6J,EAAIK,MAAM,OAAV,G,4FClCKpI,eAAeqI,IACpB,MAAM5I,EAAYC,EAAAA,GAAAA,UAClB,IAAI4I,EAAc,GACd1B,EAAS,GACb,IACE,IAAI2B,QAAuBpI,EAAAA,GAAAA,QAAmB,CAC5CP,KAAM,GACNH,UAAWA,GAKd,CAHC,MAAOc,GACPqG,EAAOpD,KAAK,2CACZhD,QAAQC,IAAI,0BAA4BF,EACzC,CAGD,IAAIiI,GAAiB,EACrB,IAAK,IAAIC,KAAWF,EAAeG,MACb,SAAhBD,EAAQlH,OACViH,GAAiB,GAGrB,GAAIA,EAAgB,CAClBhI,QAAQC,IAAI,sBAEZ,UACQN,EAAAA,GAAAA,MAAiB,CACrBP,KAAM,SACNH,UAAWA,GAKd,CAHC,MAAOc,GACPqG,EAAOpD,KAAK,0CACZhD,QAAQC,IAAI,4BAA8BF,EAC3C,CACF,CAED,IACE,IAAIoI,QAAwBxI,EAAAA,GAAAA,QAAmB,CAC7CP,KAAM,SACNH,UAAWA,EACXY,SAAUC,EAAAA,GAAAA,MAKb,CAHC,MAAOC,GACPqG,EAAOpD,KAAK,qDACZhD,QAAQC,IAAI,2BAA6BF,EAC1C,CAED,GAAKoI,EAAgBD,MAAMtH,QAIzB,IAAK,IAAIwH,KAAYD,EAAgBD,MAEnC,GAAqB,aAAjBE,EAASzF,KAAqB,CAChC,IACE,IAAI0F,QAAsB1I,EAAAA,GAAAA,SAAoB,CAC5CP,KAAM,SAAWgJ,EAASrH,KAAO,cACjC9B,UAAWA,EACXY,SAAUC,EAAAA,GAAAA,MASb,CAPC,MAAOC,GACPqG,EAAOpD,KACL,4DACEoF,EAASrH,KACT,KAEJf,QAAQC,IAAI,4BAA8BF,EAC3C,CAED,IACE,IAAIuI,QAAkBC,KAAKC,MAAMH,EAAczI,MAC/C0I,EAAU,QAAUF,EAASrH,KAC7B+G,EAAY9E,KAAKsF,EAQlB,CAPC,MAAOvI,GACPqG,EAAOpD,KACL,yCACEoF,EAASrH,KACT,wBAEJf,QAAQC,IAAI,sBAAwBF,EACrC,CACF,OAjCHqG,EAAOpD,KAAK,mEACZhD,QAAQC,IAAI,kBAmCd,OAAImG,EAAOxF,OACF,CAAEwF,QAAQ,EAAMxG,KAAMwG,GAEtB,CAAEA,QAAQ,EAAOxG,KAAMkI,EAEjC,C,cCtFM,MAAM1J,GAAgBqK,EAAAA,EAAAA,IAAY,aAAc,CACrDC,MAAO,KACE,CACL/G,QAAS,GACTgH,MAAO,KACPC,eAAgB,KAChBC,gBAAiB,KACjBC,gBAAiB,GACjBC,gBAAiB,GACjBC,eAAgB,GAChBC,WAAW,EACXC,QAAQ,EACRzK,iBAAiB,EACjB0K,eAAgB,EAChB1E,iBAAkB,EAClB2B,OAAQ,GACRzF,aAAc,GACdiB,iBAAkB,KAClBlB,8BAA8B,EAC9BG,OAAQ,CAAC,EACT6C,eAAe,EACfC,eAAgB,KAChBxD,qBAAsB,CAAC,EACvBI,wBAAyB,CAAC,EAC1BjC,eAAgB,CAAC,IAGrB8K,QAAS,CACPxD,mBACEiC,IACGnK,MAAM8F,IACDA,EAAO4C,QACTpG,QAAQC,IAAIuD,EAAO5D,MACnByJ,KAAKjD,OAAS5C,EAAO5D,MAErByJ,KAAK1H,QAAU6B,EAAO5D,IACvB,IAEFlC,MAAK,KACJ2L,KAAKzF,iBAAL,IAEDlG,MAAK,KACJ2L,KAAKxI,OAAOgD,YAAY,EAAG,KAAK,GAChCwF,KAAKxI,OAAOiD,KAAK,kBAAjB,GAEL,EACDF,kBAEE,IAAI0F,EAAc,GAClB,IAAK,IAAIC,KAASF,KAAK1H,QACrB,IAAK,IAAIO,KAAaqH,EAAMpH,WACtBD,EAAUsH,YACZtH,EAAUnB,KAAOwI,EAAMxI,KACvBuI,EAAYtG,KAAKd,IAIvBmH,KAAK1I,aAAe2I,CACrB,EACD3E,iBACErB,EAAAA,EAAAA,IAAgB,CAAEC,IAAK,UAAW7F,MAAM8F,IACjCA,EAAO3E,MAGVwK,KAAKV,MAAQnF,EAAO3E,MAFpBwK,KAAKV,MAAQ,OAGd,IAEHrF,EAAAA,EAAAA,IAAgB,CAAEC,IAAK,oBAAqB7F,MAAM8F,IAC3CA,EAAO3E,MAGVwK,KAAKR,gBAAkBrF,EAAO3E,MAF9BwK,KAAKR,iBAAkB,CAGxB,GAEJ,EACDrJ,gCACE,IAAIoJ,QAAuBtF,EAAAA,EAAAA,IAAgB,CAAEC,IAAK,mBAC9CkG,QAAiBC,MACnB,2DACEd,EAAe/J,OAEfe,QAAa6J,EAASE,OAC1BN,KAAKP,gBAAkBlJ,CACxB,I,GCtFDgK,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAa9L,QAGrB,IAAID,EAAS4L,EAAyBE,GAAY,CAGjD7L,QAAS,CAAC,GAOX,OAHAgM,EAAoBH,GAAU9L,EAAQA,EAAOC,QAAS4L,GAG/C7L,EAAOC,OACf,CAGA4L,EAAoBK,EAAID,E,WCzBxB,IAAIE,EAAW,GACfN,EAAoBO,EAAI,SAAS5G,EAAQ6G,EAAUC,EAAIC,GACtD,IAAGF,EAAH,CAMA,IAAIG,EAAeC,IACnB,IAASC,EAAI,EAAGA,EAAIP,EAASvJ,OAAQ8J,IAAK,CACrCL,EAAWF,EAASO,GAAG,GACvBJ,EAAKH,EAASO,GAAG,GACjBH,EAAWJ,EAASO,GAAG,GAE3B,IAJA,IAGIC,GAAY,EACPC,EAAI,EAAGA,EAAIP,EAASzJ,OAAQgK,MACpB,EAAXL,GAAsBC,GAAgBD,IAAaM,OAAO/M,KAAK+L,EAAoBO,GAAGU,OAAM,SAASvH,GAAO,OAAOsG,EAAoBO,EAAE7G,GAAK8G,EAASO,GAAK,IAChKP,EAASU,OAAOH,IAAK,IAErBD,GAAY,EACTJ,EAAWC,IAAcA,EAAeD,IAG7C,GAAGI,EAAW,CACbR,EAASY,OAAOL,IAAK,GACrB,IAAIM,EAAIV,SACEN,IAANgB,IAAiBxH,EAASwH,EAC/B,CACD,CACA,OAAOxH,CArBP,CAJC+G,EAAWA,GAAY,EACvB,IAAI,IAAIG,EAAIP,EAASvJ,OAAQ8J,EAAI,GAAKP,EAASO,EAAI,GAAG,GAAKH,EAAUG,IAAKP,EAASO,GAAKP,EAASO,EAAI,GACrGP,EAASO,GAAK,CAACL,EAAUC,EAAIC,EAwB/B,C,eC5BAV,EAAoBoB,EAAI,SAAShN,EAASiN,GACzC,IAAI,IAAI3H,KAAO2H,EACXrB,EAAoBsB,EAAED,EAAY3H,KAASsG,EAAoBsB,EAAElN,EAASsF,IAC5EsH,OAAOO,eAAenN,EAASsF,EAAK,CAAE8H,YAAY,EAAMC,IAAKJ,EAAW3H,IAG3E,C,eCPAsG,EAAoB0B,EAAI,CAAC,EAGzB1B,EAAoBlM,EAAI,SAAS6N,GAChC,OAAOhO,QAAQiO,IAAIZ,OAAO/M,KAAK+L,EAAoB0B,GAAGG,QAAO,SAASC,EAAUpI,GAE/E,OADAsG,EAAoB0B,EAAEhI,GAAKiI,EAASG,GAC7BA,CACR,GAAG,IACJ,C,eCPA9B,EAAoB+B,EAAI,SAASJ,GAEhC,MAAO,MAAQA,EAAU,IAAM,CAAC,GAAK,WAAW,IAAM,WAAW,IAAM,WAAW,IAAM,WAAW,IAAM,WAAW,IAAM,WAAW,IAAM,WAAW,IAAM,WAAW,IAAM,WAAW,IAAM,WAAW,IAAM,WAAW,IAAM,WAAW,IAAM,WAAW,IAAM,WAAW,IAAM,YAAYA,GAAW,KAC3S,C,eCHA3B,EAAoBgC,SAAW,SAASL,GAEvC,MAAO,OAASA,EAAT,eACR,C,eCJA3B,EAAoBiC,EAAI,WACvB,GAA0B,kBAAfC,WAAyB,OAAOA,WAC3C,IACC,OAAO1C,MAAQ,IAAI2C,SAAS,cAAb,EAGhB,CAFE,MAAOrO,GACR,GAAsB,kBAAX0H,OAAqB,OAAOA,MACxC,CACA,CAPuB,E,eCAxBwE,EAAoBsB,EAAI,SAASc,EAAKC,GAAQ,OAAOrB,OAAOsB,UAAUC,eAAeC,KAAKJ,EAAKC,EAAO,C,eCAtG,IAAII,EAAa,CAAC,EACdC,EAAoB,OAExB1C,EAAoB2C,EAAI,SAASC,EAAKC,EAAMnJ,EAAKiI,GAChD,GAAGc,EAAWG,GAAQH,EAAWG,GAAKzJ,KAAK0J,OAA3C,CACA,IAAIC,EAAQC,EACZ,QAAW5C,IAARzG,EAEF,IADA,IAAIsJ,EAAUC,SAASC,qBAAqB,UACpCrC,EAAI,EAAGA,EAAImC,EAAQjM,OAAQ8J,IAAK,CACvC,IAAIsC,EAAIH,EAAQnC,GAChB,GAAGsC,EAAEC,aAAa,QAAUR,GAAOO,EAAEC,aAAa,iBAAmBV,EAAoBhJ,EAAK,CAAEoJ,EAASK,EAAG,KAAO,CACpH,CAEGL,IACHC,GAAa,EACbD,EAASG,SAASI,cAAc,UAEhCP,EAAOQ,QAAU,QACjBR,EAAOS,QAAU,IACbvD,EAAoBwD,IACvBV,EAAOW,aAAa,QAASzD,EAAoBwD,IAElDV,EAAOW,aAAa,eAAgBf,EAAoBhJ,GACxDoJ,EAAOtM,IAAMoM,GAEdH,EAAWG,GAAO,CAACC,GACnB,IAAIa,EAAmB,SAASC,EAAMC,GAErCd,EAAOe,QAAUf,EAAOgB,OAAS,KACjCC,aAAaR,GACb,IAAIS,EAAUvB,EAAWG,GAIzB,UAHOH,EAAWG,GAClBE,EAAOmB,YAAcnB,EAAOmB,WAAWC,YAAYpB,GACnDkB,GAAWA,EAAQG,SAAQ,SAAS1D,GAAM,OAAOA,EAAGmD,EAAQ,IACzDD,EAAM,OAAOA,EAAKC,EACtB,EAEIL,EAAUa,WAAWV,EAAiBW,KAAK,UAAMlE,EAAW,CAAErH,KAAM,UAAWwL,OAAQxB,IAAW,MACtGA,EAAOe,QAAUH,EAAiBW,KAAK,KAAMvB,EAAOe,SACpDf,EAAOgB,OAASJ,EAAiBW,KAAK,KAAMvB,EAAOgB,QACnDf,GAAcE,SAASsB,KAAKC,YAAY1B,EApCkB,CAqC3D,C,eCxCA9C,EAAoBmB,EAAI,SAAS/M,GACX,qBAAXqQ,QAA0BA,OAAOC,aAC1C1D,OAAOO,eAAenN,EAASqQ,OAAOC,YAAa,CAAE1P,MAAO,WAE7DgM,OAAOO,eAAenN,EAAS,aAAc,CAAEY,OAAO,GACvD,C,eCNAgL,EAAoB2E,EAAI,G,eCAxB,IAAIC,EAAmB,SAASjD,EAASkD,EAAUjR,EAASkR,GAC3D,IAAIC,EAAU9B,SAASI,cAAc,QAErC0B,EAAQC,IAAM,aACdD,EAAQjM,KAAO,WACf,IAAImM,EAAiB,SAASrB,GAG7B,GADAmB,EAAQlB,QAAUkB,EAAQjB,OAAS,KAChB,SAAfF,EAAM9K,KACTlF,QACM,CACN,IAAIsR,EAAYtB,IAAyB,SAAfA,EAAM9K,KAAkB,UAAY8K,EAAM9K,MAChEqM,EAAWvB,GAASA,EAAMU,QAAUV,EAAMU,OAAOc,MAAQP,EACzD3O,EAAM,IAAInC,MAAM,qBAAuB4N,EAAU,cAAgBwD,EAAW,KAChFjP,EAAIlC,KAAO,wBACXkC,EAAI4C,KAAOoM,EACXhP,EAAImP,QAAUF,EACdJ,EAAQd,WAAWC,YAAYa,GAC/BD,EAAO5O,EACR,CACD,EAKA,OAJA6O,EAAQlB,QAAUkB,EAAQjB,OAASmB,EACnCF,EAAQK,KAAOP,EAEf5B,SAASsB,KAAKC,YAAYO,GACnBA,CACR,EACIO,EAAiB,SAASF,EAAMP,GAEnC,IADA,IAAIU,EAAmBtC,SAASC,qBAAqB,QAC7CrC,EAAI,EAAGA,EAAI0E,EAAiBxO,OAAQ8J,IAAK,CAChD,IAAI2E,EAAMD,EAAiB1E,GACvB4E,EAAWD,EAAIpC,aAAa,cAAgBoC,EAAIpC,aAAa,QACjE,GAAe,eAAZoC,EAAIR,MAAyBS,IAAaL,GAAQK,IAAaZ,GAAW,OAAOW,CACrF,CACA,IAAIE,EAAoBzC,SAASC,qBAAqB,SACtD,IAAQrC,EAAI,EAAGA,EAAI6E,EAAkB3O,OAAQ8J,IAAK,CAC7C2E,EAAME,EAAkB7E,GACxB4E,EAAWD,EAAIpC,aAAa,aAChC,GAAGqC,IAAaL,GAAQK,IAAaZ,EAAU,OAAOW,CACvD,CACD,EACIG,EAAiB,SAAShE,GAC7B,OAAO,IAAIhO,SAAQ,SAASC,EAASkR,GACpC,IAAIM,EAAOpF,EAAoBgC,SAASL,GACpCkD,EAAW7E,EAAoB2E,EAAIS,EACvC,GAAGE,EAAeF,EAAMP,GAAW,OAAOjR,IAC1CgR,EAAiBjD,EAASkD,EAAUjR,EAASkR,EAC9C,GACD,EAEIc,EAAqB,CACxB,IAAK,GAGN5F,EAAoB0B,EAAEmE,QAAU,SAASlE,EAASG,GACjD,IAAIgE,EAAY,CAAC,IAAM,GACpBF,EAAmBjE,GAAUG,EAAS3I,KAAKyM,EAAmBjE,IACzB,IAAhCiE,EAAmBjE,IAAkBmE,EAAUnE,IACtDG,EAAS3I,KAAKyM,EAAmBjE,GAAWgE,EAAehE,GAAS9N,MAAK,WACxE+R,EAAmBjE,GAAW,CAC/B,IAAG,SAAS7N,GAEX,aADO8R,EAAmBjE,GACpB7N,CACP,IAEF,C,eC5DA,IAAIiS,EAAkB,CACrB,IAAK,GAGN/F,EAAoB0B,EAAEX,EAAI,SAASY,EAASG,GAE1C,IAAIkE,EAAqBhG,EAAoBsB,EAAEyE,EAAiBpE,GAAWoE,EAAgBpE,QAAWxB,EACtG,GAA0B,IAAvB6F,EAGF,GAAGA,EACFlE,EAAS3I,KAAK6M,EAAmB,QAC3B,CAGL,IAAIC,EAAU,IAAItS,SAAQ,SAASC,EAASkR,GAAUkB,EAAqBD,EAAgBpE,GAAW,CAAC/N,EAASkR,EAAS,IACzHhD,EAAS3I,KAAK6M,EAAmB,GAAKC,GAGtC,IAAIrD,EAAM5C,EAAoB2E,EAAI3E,EAAoB+B,EAAEJ,GAEpDuE,EAAQ,IAAInS,MACZoS,EAAe,SAASvC,GAC3B,GAAG5D,EAAoBsB,EAAEyE,EAAiBpE,KACzCqE,EAAqBD,EAAgBpE,GACX,IAAvBqE,IAA0BD,EAAgBpE,QAAWxB,GACrD6F,GAAoB,CACtB,IAAId,EAAYtB,IAAyB,SAAfA,EAAM9K,KAAkB,UAAY8K,EAAM9K,MAChEsN,EAAUxC,GAASA,EAAMU,QAAUV,EAAMU,OAAO9N,IACpD0P,EAAM9K,QAAU,iBAAmBuG,EAAU,cAAgBuD,EAAY,KAAOkB,EAAU,IAC1FF,EAAMhP,KAAO,iBACbgP,EAAMpN,KAAOoM,EACbgB,EAAMb,QAAUe,EAChBJ,EAAmB,GAAGE,EACvB,CAEF,EACAlG,EAAoB2C,EAAEC,EAAKuD,EAAc,SAAWxE,EAASA,EAE/D,CAEH,EAUA3B,EAAoBO,EAAEQ,EAAI,SAASY,GAAW,OAAoC,IAA7BoE,EAAgBpE,EAAgB,EAGrF,IAAI0E,EAAuB,SAASC,EAA4BvQ,GAC/D,IAKIkK,EAAU0B,EALVnB,EAAWzK,EAAK,GAChBwQ,EAAcxQ,EAAK,GACnByQ,EAAUzQ,EAAK,GAGI8K,EAAI,EAC3B,GAAGL,EAASiG,MAAK,SAASvS,GAAM,OAA+B,IAAxB6R,EAAgB7R,EAAW,IAAI,CACrE,IAAI+L,KAAYsG,EACZvG,EAAoBsB,EAAEiF,EAAatG,KACrCD,EAAoBK,EAAEJ,GAAYsG,EAAYtG,IAGhD,GAAGuG,EAAS,IAAI7M,EAAS6M,EAAQxG,EAClC,CAEA,IADGsG,GAA4BA,EAA2BvQ,GACrD8K,EAAIL,EAASzJ,OAAQ8J,IACzBc,EAAUnB,EAASK,GAChBb,EAAoBsB,EAAEyE,EAAiBpE,IAAYoE,EAAgBpE,IACrEoE,EAAgBpE,GAAS,KAE1BoE,EAAgBpE,GAAW,EAE5B,OAAO3B,EAAoBO,EAAE5G,EAC9B,EAEI+M,EAAqBC,KAAK,mBAAqBA,KAAK,oBAAsB,GAC9ED,EAAmBvC,QAAQkC,EAAqBhC,KAAK,KAAM,IAC3DqC,EAAmBvN,KAAOkN,EAAqBhC,KAAK,KAAMqC,EAAmBvN,KAAKkL,KAAKqC,G,ICpFvF,IAAIE,EAAsB5G,EAAoBO,OAAEJ,EAAW,CAAC,MAAM,WAAa,OAAOH,EAAoB,KAAO,IACjH4G,EAAsB5G,EAAoBO,EAAEqG,E","sources":["webpack://bah/./node_modules/@stencil/core/internal/client/ lazy ^\\.\\/.*\\.entry\\.js.*$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$ namespace object","webpack://bah/./node_modules/ionicons/node_modules/@stencil/core/internal/client/ lazy ^\\.\\/.*\\.entry\\.js.*$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$ namespace object","webpack://bah/./src/App.vue","webpack://bah/./src/components/AudioRange.vue","webpack://bah/./src/components/AudioRange.vue?702e","webpack://bah/./src/composables/convertPath.js","webpack://bah/./src/composables/permissionsCheck.js","webpack://bah/./src/composables/readAudio.js","webpack://bah/./src/composables/handleSlideClick.js","webpack://bah/./src/views/HomePage.vue","webpack://bah/./src/views/HomePage.vue?150d","webpack://bah/./src/views/PreferencesPage.vue","webpack://bah/./src/router/index.js","webpack://bah/./src/main.js","webpack://bah/./src/data/storiesIndex.js","webpack://bah/./src/stores/StoryStores.js","webpack://bah/webpack/bootstrap","webpack://bah/webpack/runtime/chunk loaded","webpack://bah/webpack/runtime/define property getters","webpack://bah/webpack/runtime/ensure chunk","webpack://bah/webpack/runtime/get javascript chunk filename","webpack://bah/webpack/runtime/get mini-css chunk filename","webpack://bah/webpack/runtime/global","webpack://bah/webpack/runtime/hasOwnProperty shorthand","webpack://bah/webpack/runtime/load script","webpack://bah/webpack/runtime/make namespace object","webpack://bah/webpack/runtime/publicPath","webpack://bah/webpack/runtime/css loading","webpack://bah/webpack/runtime/jsonp chunk loading","webpack://bah/webpack/startup"],"sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 1993;\nmodule.exports = webpackEmptyAsyncContext;","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 1875;\nmodule.exports = webpackEmptyAsyncContext;","import script from \"./App.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","\r\n<template>\r\n    <ion-grid>\r\n        <ion-row>\r\n            <ion-col size=\"2\">\r\n                <ion-badge class=\"margin-10\" :color=\"storyStore.theme + 'sec'\">\r\n                {{ new Date(storyStore.howlerCurrentPos * 1000).toISOString().substring(14, 19)}}/\r\n                {{ new Date(storyStore.storyAudioHowl.duration() * 1000).toISOString().substring(14, 19)}}\r\n                </ion-badge>\r\n            </ion-col>\r\n            <ion-col>\r\n                <ion-range class=\"audio-timeline\" :pin=\"true\" :max=\"storyStore.storyAudioHowl.duration()\"\r\n                    :value=\"parseInt(storyStore.howlerCurrentPos)\" @ionKnobMoveStart=\"onIonKnobMoveStart\"\r\n                    @ionKnobMoveEnd=\"onIonKnobMoveEnd\" :pin-formatter=\"pinFormatter\" :color=\"storyStore.theme + 'sec'\">\r\n                </ion-range>\r\n            </ion-col>\r\n        </ion-row>\r\n    </ion-grid>\r\n</template>\r\n\r\n<script setup>\r\nimport {\r\n    IonRange,\r\n    IonBadge,\r\n    IonGrid,\r\n    IonCol,\r\n    IonRow,\r\n} from \"@ionic/vue\";\r\nimport { useStoryStore } from '../stores/StoryStores';\r\n\r\nconst storyStore = useStoryStore();\r\n\r\nfunction onIonKnobMoveStart() {\r\n    if (storyStore.storyAudioHowl.playing()) {\r\n        storyStore.storyAudioHowl.pause()\r\n        storyStore.howlerIsPlaying = true\r\n    }\r\n}\r\n\r\nfunction onIonKnobMoveEnd({ detail }) {\r\n    storyStore.storyAudioHowl.seek(detail.value)\r\n    storyStore.storyAudioHowl.play()\r\n    storyStore.howlerIsPlaying = false\r\n}\r\n\r\nfunction pinFormatter(value) {\r\n    return `${value} sec`\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\nion-range::part(pin) {\r\n    top: 50px !important;\r\n    margin: 2px;\r\n    z-index: 999;\r\n}\r\n\r\n.range-has-pin {\r\n    padding-top: 0px !important;\r\n    border-radius: 50%;\r\n}\r\n\r\n.audio-timeline {\r\n    --bar-height: 8px;\r\n    --bar-border-radius: 8px;\r\n    --knob-size: 40px;\r\n}\r\n\r\n.margin-10 {\r\n    margin-left: 10px;\r\n    margin-top: 10px;\r\n}\r\n</style>","import script from \"./AudioRange.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AudioRange.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AudioRange.vue?vue&type=style&index=0&id=34439209&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\lunii\\\\bah\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-34439209\"]])\n\nexport default __exports__","import { Directory } from '@capacitor/filesystem';\r\nimport { Capacitor } from \"@capacitor/core\";\r\n\r\nconst basePath = \"/storage/emulated/0/\";\r\nconst directory = Directory.Documents;\r\n\r\nexport function useConvertPath(path) {\r\n    var fullPath = basePath + directory + \"/packs/\" + path\r\n    var convertedPath = Capacitor.convertFileSrc(fullPath)\r\n    return convertedPath;\r\n  }","import { Filesystem, Directory, Encoding } from '@capacitor/filesystem';\r\n\r\nexport async function usePermissionsCheck() {\r\n  var checkPermissionsSuccess = true;\r\n  try {\r\n    await Filesystem.writeFile({\r\n      path: 'bah-check.txt',\r\n      data: 'This is a permission check',\r\n      directory: Directory.Documents,\r\n      encoding: Encoding.UTF8,\r\n    });\r\n  } catch (err) {\r\n    console.log('permission check'+err);\r\n    checkPermissionsSuccess = false;\r\n  }\r\n  try {\r\n    await Filesystem.readFile({\r\n      path: 'bah-check.txt',\r\n      directory: Directory.Documents,\r\n      encoding: Encoding.UTF8,\r\n    });\r\n  } catch (err) {\r\n    console.log('permission check'+err);\r\n    checkPermissionsSuccess = false;\r\n  }\r\n  try {\r\n    await Filesystem.deleteFile({\r\n      path: 'bah-check.txt',\r\n      directory: Directory.Documents,\r\n    });\r\n  } catch (err) {\r\n    console.log('permission check'+err);\r\n    checkPermissionsSuccess = false;\r\n  }\r\n  return checkPermissionsSuccess;\r\n}\r\n","import { Howl } from 'howler';\r\nimport { useConvertPath } from './convertPath';\r\nimport { useStoryStore } from '../stores/StoryStores';\r\n\r\n\r\nexport function initHowlers() {\r\n  const storyStore = useStoryStore();\r\n  storyStore.activeAudioSlideHowl = new Howl({ src: [null], html5: true })\r\n  storyStore.activeAudioSlideSetHowl = new Howl({ src: [null], html5: true, autoplay: true })\r\n  storyStore.storyAudioHowl = new Howl({ src: [null], html5: true })\r\n}\r\n\r\nexport function useReadAudioActiveSlide() {\r\n  console.log('read audio active slide');\r\n  const storyStore = useStoryStore();\r\n  if (storyStore.isAudioActiveSlideSetPlaying || storyStore.activeSlides.length === 0 ) {\r\n    return\r\n  }\r\n  var convertedPath = useConvertPath(storyStore.activeSlides[storyStore.swiper.realIndex].name + '/assets/' +\r\n  storyStore.activeSlides[storyStore.swiper.realIndex].audio\r\n  );\r\n  storyStore.activeAudioSlideHowl.stop();\r\n  storyStore.activeAudioSlideHowl.unload();\r\n  storyStore.activeAudioSlideHowl._queue = []\r\n  storyStore.activeAudioSlideHowl._src = convertedPath\r\n  storyStore.activeAudioSlideHowl.load();\r\n  storyStore.activeAudioSlideHowl.play();\r\n}\r\n\r\nexport function useReadAudioActiveSlideSet(audio) {\r\n  console.log('read audio active slide set');\r\n  const storyStore = useStoryStore();\r\n  storyStore.isAudioActiveSlideSetPlaying = true\r\n  var convertedPath = useConvertPath(storyStore.activeSlides[storyStore.swiper.realIndex].name + '/assets/' + audio);\r\n  storyStore.activeAudioSlideHowl.stop();\r\n  storyStore.activeAudioSlideSetHowl.unload();\r\n  storyStore.activeAudioSlideSetHowl._queue = []\r\n  storyStore.activeAudioSlideSetHowl._src = convertedPath\r\n  storyStore.activeAudioSlideSetHowl.load();\r\n  storyStore.activeAudioSlideSetHowl.play();\r\n}\r\n\r\nexport function useReadAudioStory(audio) {\r\n  console.log('read story');\r\n  const storyStore = useStoryStore();\r\n\r\n  var convertedPath = useConvertPath(storyStore.activeSlides[storyStore.swiper.realIndex].name + '/assets/' + audio);\r\n  storyStore.activeAudioSlideHowl.stop();\r\n  storyStore.activeAudioSlideSetHowl.stop();\r\n  storyStore.storyAudioHowl.unload();\r\n  storyStore.storyAudioHowl._queue = []\r\n  storyStore.storyAudioHowl._src = convertedPath\r\n  storyStore.storyAudioHowl.load();\r\n  storyStore.storyAudioHowl.play();\r\n}\r\n","import { useStoryStore } from '../stores/StoryStores';\r\n\r\n// audio: \"a4b2b5315493e6987923b35f2572734ecbf7fd6f.mp3\"\r\n// controlSettings:\r\n// autoplay: true\r\n// home: true\r\n// ok: true\r\n// pause: false\r\n// wheel: false\r\n// homeTransition: null\r\n// image: null\r\n// okTransition:\r\n// actionNode: \"48e6f7ce-4bc1-4572-87f2-4cab78783fe3\"\r\n// optionIndex: 0\r\n// uuid: \"1ff09caf-a485-4582-a461-f2f8510ac011\"\r\n\r\nexport function findNextStageNodes(okTransition) {\r\n  const storyStore = useStoryStore();\r\n  for (var actionNode of storyStore.stories[storyStore.activeStoryIndex]\r\n    .actionNodes) {\r\n    if (actionNode.id === okTransition.actionNode) {\r\n      return actionNode.options[\r\n        okTransition.optionIndex < 0 ? 0 : okTransition.optionIndex\r\n      ];\r\n    }\r\n  }\r\n}\r\n\r\nexport function findNextActionNode(nextStageNodes) {\r\n  const storyStore = useStoryStore();\r\n  // console.log(nextStageNodes)\r\n  for (var stageNode of storyStore.stories[storyStore.activeStoryIndex]\r\n    .stageNodes) {\r\n    if (stageNode.uuid === nextStageNodes) {\r\n      return stageNode;\r\n    }\r\n  }\r\n}\r\n\r\nexport function detectTypeOfStageNode(actionNode) {\r\n  if (\r\n    (actionNode.audio !== null &&\r\n      actionNode.controlSettings.autoplay === true &&\r\n      actionNode.controlSettings.home === true &&\r\n      actionNode.controlSettings.ok === true &&\r\n      actionNode.controlSettings.pause === false &&\r\n      actionNode.controlSettings.wheel === false &&\r\n      actionNode.image == null) ||\r\n    (actionNode.audio !== null &&\r\n      actionNode.controlSettings.autoplay === false &&\r\n      actionNode.controlSettings.home === true &&\r\n      actionNode.controlSettings.ok === true &&\r\n      actionNode.controlSettings.pause === false &&\r\n      actionNode.controlSettings.wheel === true &&\r\n      actionNode.image == null)\r\n  ) {\r\n    return { type: 'audioSlideSet', okTransition: actionNode.okTransition };\r\n  } else if (\r\n    (actionNode.audio !== null &&\r\n      actionNode.controlSettings.autoplay === false &&\r\n      actionNode.controlSettings.home === true &&\r\n      actionNode.controlSettings.ok === true &&\r\n      actionNode.controlSettings.pause === false &&\r\n      actionNode.controlSettings.wheel === true &&\r\n      actionNode.image !== null) ||\r\n    (actionNode.audio !== null &&\r\n      actionNode.controlSettings.autoplay === true &&\r\n      actionNode.controlSettings.home === true &&\r\n      actionNode.controlSettings.ok === true &&\r\n      actionNode.controlSettings.pause === false &&\r\n      actionNode.controlSettings.wheel === false &&\r\n      actionNode.image !== null)\r\n  ) {\r\n    return { type: 'displaySlideSet', okTransition: actionNode.okTransition };\r\n  } else if (\r\n    actionNode.okTransition === null ||\r\n    (actionNode.audio === null &&\r\n      actionNode.controlSettings.autoplay === false &&\r\n      actionNode.controlSettings.home === true &&\r\n      actionNode.controlSettings.ok === true &&\r\n      actionNode.controlSettings.pause === false &&\r\n      actionNode.controlSettings.wheel === true &&\r\n      actionNode.image === null)\r\n    ) {\r\n    return { type: 'endOfStory', okTransition: null };\r\n  } else if (\r\n    (actionNode.audio !== null &&\r\n      actionNode.controlSettings.autoplay === true &&\r\n      actionNode.controlSettings.home === false &&\r\n      actionNode.controlSettings.ok === false &&\r\n      actionNode.controlSettings.pause === true &&\r\n      actionNode.controlSettings.wheel === false &&\r\n      actionNode.image === null) ||\r\n    (actionNode.audio !== null &&\r\n      actionNode.controlSettings.autoplay === true &&\r\n      actionNode.controlSettings.home === true &&\r\n      actionNode.controlSettings.ok === false &&\r\n      actionNode.controlSettings.pause === true &&\r\n      actionNode.controlSettings.wheel === false &&\r\n      actionNode.image === null) ||\r\n    (actionNode.audio !== null &&\r\n      actionNode.controlSettings.autoplay === true &&\r\n      actionNode.controlSettings.home === true &&\r\n      actionNode.controlSettings.ok === true &&\r\n      actionNode.controlSettings.pause === true &&\r\n      actionNode.controlSettings.wheel === false &&\r\n      actionNode.image === null)\r\n  ) {\r\n    return { type: 'audioStory', okTransition: actionNode.okTransition };\r\n  } else if (\r\n    actionNode.audio !== null &&\r\n    actionNode.controlSettings.autoplay === true &&\r\n    actionNode.controlSettings.home === false &&\r\n    actionNode.controlSettings.ok === false &&\r\n    actionNode.controlSettings.pause === false &&\r\n    actionNode.controlSettings.wheel === false &&\r\n    actionNode.image === null\r\n  ) {\r\n    return { type: 'audioSlideSet', okTransition: actionNode.okTransition };\r\n  } else {\r\n    console.log('actionNode doesnt match with any types :');\r\n    console.log(actionNode);\r\n  }\r\n}\r\n\r\nexport function displaySlideSet(okTransition) {\r\n  const storyStore = useStoryStore();\r\n  var actionNodeIds = [];\r\n  for (var actionNode of storyStore.stories[storyStore.activeStoryIndex]\r\n    .actionNodes) {\r\n    if (actionNode.id === okTransition.actionNode) {\r\n      actionNodeIds = actionNode.options;\r\n    }\r\n  }\r\n\r\n  var stageNodeIds = [];\r\n  for (var stageOption of actionNodeIds) {\r\n    for (var stageNode of storyStore.stories[storyStore.activeStoryIndex]\r\n      .stageNodes) {\r\n      if (stageNode.uuid === stageOption) {\r\n        stageNode.name = storyStore.stories[storyStore.activeStoryIndex].name;\r\n        stageNodeIds.push(stageNode);\r\n      }\r\n    }\r\n  }\r\n  storyStore.activeSlides = stageNodeIds;\r\n}\r\n","<template>\r\n  <ion-page>\r\n    <ion-content :color=\"storyStore.theme + 'prim'\" :fullscreen=\"true\">\r\n      <ion-grid class=\"ion-no-padding full-height\">\r\n        <ion-row class=\"top-row\">\r\n          <ion-col size=\"10\">\r\n            <AudioRange v-show=\"storyStore.timelineVisible\">\r\n            </AudioRange>\r\n          </ion-col>\r\n          <ion-col size=\"2\">\r\n            <ion-button class=\"preferences\" :color=\"storyStore.theme + 'sec'\" icon-only\r\n              @click=\"() => router.push('/preferences/tab1')\" size=\"small\">\r\n              <ion-icon :icon=\"settingsOutline\" size=\"small\"></ion-icon>\r\n            </ion-button>\r\n          </ion-col>\r\n        </ion-row>\r\n        <ion-row class=\"ion-align-items-center middle-row\">\r\n          <ion-col class=\"ion-align-items-center ion-text-center\" size=\"2\">\r\n            <ion-button class=\"big-buttons\" :color=\"storyStore.theme + 'sec'\" @click=\"homeButton\" icon-only size=\"large\">\r\n              <ion-icon :icon=\"home\" size=\"large\"></ion-icon>\r\n            </ion-button>\r\n            <button @click=\"debug\" v-show=\"false\" color=\"primary\">\r\n              log datas\r\n            </button>\r\n          </ion-col>\r\n          <ion-col size=\"8\">\r\n            <swiper :loop=\"true\" v-show=\"storyStore.slidesVisible\" :modules=\"modules\" :effect=\"'flip'\"\r\n              @swiper=\"onSwiper\" @realIndexChange=\"useReadAudioActiveSlide()\">\r\n              <swiper-slide v-for=\"(slide, index) in storyStore.activeSlides\" :key=\"index\">\r\n                <ion-img @click=\"storeActiveStoryIndex(index), handleSlideClick(slide.okTransition)\"\r\n                  :src=\"useConvertPath(slide.name + '/assets/' + slide.image)\">\r\n                </ion-img>\r\n              </swiper-slide>\r\n            </swiper>\r\n          </ion-col>\r\n          <ion-col size=\"2\">\r\n            <ion-button @click=\"pauseButton\" class=\"big-buttons\" :color=\"storyStore.theme + 'sec'\" icon-only size=\"large\">\r\n              <ion-icon :icon=\"pauseSharp\" size=\"large\" v-show=\"!storyStore.howlerIsPlaying\"></ion-icon>\r\n              <ion-icon :icon=\"playOutline\" size=\"large\" v-show=\"storyStore.howlerIsPlaying\"></ion-icon>\r\n            </ion-button>\r\n          </ion-col>\r\n        </ion-row>\r\n        <ion-row class=\"bottom-row\">\r\n          <ion-col size=\"6\">\r\n            <ion-img class=\"img-theme1\" :src=\"'./assets/theme/' + storyStore.theme + '1.png'\"></ion-img>\r\n          </ion-col>\r\n          <ion-col size=\"6\">\r\n            <ion-img class=\"img-theme2\" :src=\"'./assets/theme/' + storyStore.theme + '2.png'\"></ion-img>\r\n          </ion-col>\r\n        </ion-row>\r\n      </ion-grid>\r\n    </ion-content>\r\n  </ion-page>\r\n</template>\r\n\r\n<script setup>\r\nimport { onMounted, onBeforeMount } from \"vue\";\r\nimport { useRouter } from 'vue-router';\r\nimport AudioRange from '../components/AudioRange.vue'\r\nimport {\r\n  IonImg,\r\n  IonButton,\r\n  IonContent,\r\n  IonPage,\r\n  IonCol,\r\n  IonGrid,\r\n  IonRow,\r\n  alertController,\r\n  IonIcon,\r\n} from \"@ionic/vue\";\r\nimport { home, playOutline, pauseSharp, settingsOutline } from \"ionicons/icons\";\r\nimport { Swiper, SwiperSlide } from \"swiper/vue\";\r\nimport \"swiper/css\";\r\nimport \"swiper/css/effect-flip\";\r\nimport \"@ionic/vue/css/ionic-swiper.css\";\r\nimport { EffectFlip } from \"swiper\";\r\nimport { useConvertPath } from '../composables/convertPath';\r\nimport { usePermissionsCheck } from '../composables/permissionsCheck';\r\nimport { useReadAudioActiveSlide, useReadAudioActiveSlideSet, useReadAudioStory, initHowlers } from '../composables/readAudio';\r\nimport { findNextStageNodes, findNextActionNode, detectTypeOfStageNode, displaySlideSet } from '../composables/handleSlideClick';\r\nimport { useStoryStore } from '../stores/StoryStores';\r\nimport { Preferences } from '@capacitor/preferences';\r\n\r\nconst storyStore = useStoryStore();\r\n\r\nconst modules = [EffectFlip];\r\nconst router = useRouter();\r\nonBeforeMount(() => {\r\n  initHowlers();\r\n  storyStore.setPreferences()\r\n})\r\nonMounted(() => {\r\n  usePermissionsCheck().then((result) => {\r\n    if (!result) {\r\n      (async () => {\r\n        const alert = await alertController.create({\r\n          header: 'Permissions insuffisantes',\r\n          subHeader: 'L\\'application à besoin de permissions supplémentaires pour fonctionner.',\r\n          message: `Veuillez accorder l'autorisation \"<strong>Autoriser la gestion de tous les fichiers</strong>\".`,\r\n          buttons: [\r\n            {\r\n              text: 'Ouvrir les paramètres de l\\'appli',\r\n              handler: () => {\r\n                window.cordova.plugins.settings.open(\"application_details\", function () { })\r\n              },\r\n            },\r\n            {\r\n              text: 'OK',\r\n            },\r\n          ],\r\n          cssClass: 'alert-size',\r\n        });\r\n        await alert.present();\r\n      })();\r\n    }\r\n  })\r\n  storyStore.fillStoriesIndex()\r\n  window.plugins.insomnia.keepAwake();\r\n})\r\n\r\nrouter.afterEach((to) => {\r\n  if (to.name === 'Home') {\r\n    storyStore.fillStoriesIndex()\r\n  }\r\n})\r\n\r\nstoryStore.$subscribe((mutation) => {\r\n  if (mutation.events?.key === 'errors') {\r\n    (async () => {\r\n      const alert = await alertController.create({\r\n        header: 'Erreur(s) lors de la lecture des packs d\\'histoires :',\r\n        message: storyStore.errors.join('<br><br>'),\r\n        buttons: ['OK'],\r\n        cssClass: 'alert-size',\r\n      });\r\n      await alert.present();\r\n    })();\r\n  }\r\n})\r\n\r\nfunction debug() {\r\n  console.log(storyStore)\r\n  Preferences.get({ key: 'theme' }).then((result) => {\r\n    console.log(result.value);\r\n  });\r\n}\r\n\r\nfunction homeButton() {\r\n  storyStore.activeAudioSlideHowl.stop()\r\n  storyStore.activeAudioSlideSetHowl.stop()\r\n  storyStore.storyAudioHowl.unload()\r\n  storyStore.howlerIsPlaying = false\r\n  storyStore.storyAudioHowl._queue = []\r\n  storyStore.storyAudioHowl._src = [null]\r\n  storyStore.slidesVisible = true\r\n  if (storyStore.homeTransition === null) {\r\n    storyStore.activeStoryIndex = null\r\n    storyStore.fillIndexSlides()\r\n    storyStore.swiper.slideToLoop(0, 0, true)\r\n    storyStore.swiper.emit('realIndexChange')\r\n  }\r\n  else {\r\n    handleSlideClick(storyStore.homeTransition)\r\n  }\r\n}\r\n\r\nfunction pauseButton() {\r\n  if (storyStore.storyAudioHowl.playing()) {\r\n    storyStore.storyAudioHowl.pause()\r\n    storyStore.howlerIsPlaying = true\r\n  }\r\n  else {\r\n    storyStore.storyAudioHowl.play()\r\n    storyStore.howlerIsPlaying = false\r\n  }\r\n}\r\n\r\nfunction onSwiper(swiper) {\r\n  storyStore.swiper = swiper\r\n}\r\n\r\nfunction storeActiveStoryIndex(index) {\r\n  if (storyStore.activeStoryIndex === null) {\r\n    storyStore.activeStoryIndex = index;\r\n  }\r\n}\r\n\r\nvar oldOkTransition;\r\nfunction handleSlideClick(okTransition) {\r\n  console.log('////HANDLING CLICK////')\r\n  if ((okTransition?.actionNode === oldOkTransition?.actionNode) && (okTransition?.optionIndex === oldOkTransition?.optionIndex)) {\r\n    console.log('preventing home button loop')\r\n    storyStore.homeTransition = null\r\n    homeButton()\r\n    return\r\n  }\r\n  console.log(okTransition)\r\n  console.log(oldOkTransition)\r\n  oldOkTransition = okTransition;\r\n  console.log('searching nextStageNode with okTransition...')\r\n  console.log(okTransition)\r\n  console.log('......................')\r\n  var nextStageNodes = findNextStageNodes(okTransition)\r\n  console.log('found nextStageNodes :')\r\n  console.log(nextStageNodes)\r\n  console.log('......................')\r\n  console.log('searching nextActionNode with nextStageNodes...')\r\n  var nextActionNode = findNextActionNode(nextStageNodes)\r\n  console.log('found nextActionNode  :')\r\n  console.log(nextActionNode)\r\n  console.log('......................')\r\n  console.log('detecting type of actionNode...')\r\n  var typeOfActionNode = detectTypeOfStageNode(nextActionNode)\r\n  console.log('detected type of action node :')\r\n  console.log(typeOfActionNode)\r\n  console.log('/////////////////////')\r\n\r\n  if (typeOfActionNode.type === 'audioSlideSet') {\r\n    useReadAudioActiveSlideSet(nextActionNode.audio)\r\n    storyStore.homeTransition = nextActionNode.homeTransition\r\n    storyStore.swiper.slideToLoop(0, 0, false)\r\n    storyStore.activeAudioSlideSetHowl.once('end', function () {\r\n      storyStore.isAudioActiveSlideSetPlaying = false\r\n      storyStore.swiper.emit('realIndexChange')\r\n    })\r\n    handleSlideClick(nextActionNode.okTransition)\r\n  }\r\n  else if (typeOfActionNode.type === 'displaySlideSet') {\r\n    displaySlideSet(okTransition)\r\n    storyStore.slidesVisible = true\r\n    storyStore.swiper.slideToLoop(0, 0, true)\r\n  }\r\n  else if (typeOfActionNode.type === 'endOfStory') {\r\n    homeButton()\r\n    storyStore.slidesVisible = true\r\n  }\r\n  else if (typeOfActionNode.type === 'audioStory') {\r\n    useReadAudioStory(nextActionNode.audio)\r\n    storyStore.slidesVisible = false\r\n    storyStore.homeTransition = nextActionNode.homeTransition\r\n    setInterval(function () {\r\n      storyStore.howlerCurrentPos = storyStore.storyAudioHowl.seek()\r\n    }, 1000)\r\n    storyStore.storyAudioHowl.once('end', function () {\r\n      if (nextActionNode.okTransition !== null) {\r\n        handleSlideClick(nextActionNode.okTransition)\r\n      } else {\r\n        homeButton()\r\n        storyStore.slidesVisible = true\r\n      }\r\n    })\r\n  }\r\n  else {\r\n    console.log('no match')\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n.top-row {\r\n  height: 10%;\r\n}\r\n\r\n.middle-row {\r\n  height: 80%;\r\n}\r\n\r\n.bottom-row {\r\n  height: 10%;\r\n}\r\n\r\n.full-height {\r\n  height: 100vh;\r\n}\r\n\r\n.alert-size {\r\n  --min-width: 90%;\r\n}\r\n\r\n.img-theme1 {\r\n  position: absolute;\r\n  bottom: 0px;\r\n  left: 10px;\r\n  z-index: -1;\r\n}\r\n\r\n.img-theme2 {\r\n  position: absolute;\r\n  bottom: 0px;\r\n  right: 10px;\r\n  z-index: -1;\r\n}\r\n\r\n\r\n.preferences {\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n  --border-radius: 50%;\r\n  --padding-start: 5px;\r\n  --padding-end: 5px;\r\n  --padding-bottom: 5px;\r\n  --padding-top: 5px;\r\n}\r\n\r\n.big-buttons {\r\n  transform: translateY(-50%);\r\n  --border-radius: 50%;\r\n  --padding-start: 35px;\r\n  --padding-end: 35px;\r\n  --padding-bottom: 45px;\r\n  --padding-top: 45px;\r\n}\r\n</style>\r\n","import script from \"./HomePage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./HomePage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./HomePage.vue?vue&type=style&index=0&id=e4cf5d02&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import script from \"./PreferencesPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PreferencesPage.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { createRouter, createWebHistory } from '@ionic/vue-router';\r\nimport HomePage from '../views/HomePage.vue'\r\nimport PreferencesPage from '../views/PreferencesPage.vue'\r\n\r\nconst routes = [\r\n  {\r\n    path: '/',\r\n    redirect: '/home'\r\n  },\r\n  {\r\n    path: '/home',\r\n    name: 'Home',\r\n    component: HomePage,\r\n    beforeEnter: () => {\r\n      window.screen.orientation.lock(\"landscape\");\r\n      return true\r\n    },\r\n  },\r\n  {\r\n    path: '/preferences',\r\n    redirect: '/preferences/tab1',\r\n  },\r\n  {\r\n    path: '/preferences/',\r\n    component: PreferencesPage,\r\n    beforeEnter: () => {\r\n      window.screen.orientation.lock(\"portrait\");\r\n      return true\r\n    },\r\n    children: [\r\n      {\r\n        path: '',\r\n        redirect: 'tab1',\r\n      },\r\n      {\r\n        path: 'tab1',\r\n        component: () => import('../views/PrefTab1.vue'),\r\n      },\r\n      {\r\n        path: 'tab2',\r\n        component: () => import('../views/PrefTab2.vue'),\r\n      },\r\n      {\r\n        path: 'tab3',\r\n        component: () => import('../views/PrefTab3.vue'),\r\n      },\r\n    ],\r\n  },\r\n]\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(process.env.BASE_URL),\r\n  routes\r\n})\r\n\r\nexport default router","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router';\r\n\r\nimport { IonicVue } from '@ionic/vue';\r\n\r\n/* Core CSS required for Ionic components to work properly */\r\nimport '@ionic/vue/css/core.css';\r\n\r\n/* Basic CSS for apps built with Ionic */\r\nimport '@ionic/vue/css/normalize.css';\r\nimport '@ionic/vue/css/structure.css';\r\nimport '@ionic/vue/css/typography.css';\r\n\r\n/* Optional CSS utils that can be commented out */\r\nimport '@ionic/vue/css/padding.css';\r\nimport '@ionic/vue/css/float-elements.css';\r\nimport '@ionic/vue/css/text-alignment.css';\r\nimport '@ionic/vue/css/text-transformation.css';\r\nimport '@ionic/vue/css/flex-utils.css';\r\nimport '@ionic/vue/css/display.css';\r\n\r\n/* Theme variables */\r\nimport './theme/variables.css';\r\nimport { createPinia } from 'pinia'\r\nimport { CapacitorUpdater } from '@capgo/capacitor-updater'\r\nCapacitorUpdater.notifyAppReady()\r\n\r\nconst pinia = createPinia()\r\n\r\nconst app = createApp(App)\r\n  .use(IonicVue)\r\n  .use(router)\r\n  .use(pinia)\r\n  \r\nrouter.isReady().then(() => {\r\n  app.mount('#app');\r\n});","import { Filesystem, Directory, Encoding } from '@capacitor/filesystem';\r\n\r\nexport async function storiesIndex() {\r\n  const directory = Directory.Documents;\r\n  var jsonStories = [];\r\n  var errors = [];\r\n  try {\r\n    var mainDirContent = await Filesystem.readdir({\r\n      path: '',\r\n      directory: directory,\r\n    });\r\n  } catch (err) {\r\n    errors.push('Impossible de lire le dossier Documents');\r\n    console.log('error reading main dir ' + err);\r\n  }\r\n  //check if packs directory exists\r\n\r\n  var createPacksDir = true;\r\n  for (let dirName of mainDirContent.files) {\r\n    if (dirName.name == 'packs') {\r\n      createPacksDir = false;\r\n    }\r\n  }\r\n  if (createPacksDir) {\r\n    console.log('creating packs dir');\r\n    //create packs folder if it doesnt exists\r\n    try {\r\n      await Filesystem.mkdir({\r\n        path: 'packs/',\r\n        directory: directory,\r\n      });\r\n    } catch (err) {\r\n      errors.push('Impossible de créer le dossier \"packs\"');\r\n      console.log('error creating packs dir ' + err);\r\n    }\r\n  }\r\n  //read packs directory\r\n  try {\r\n    var packsDirContent = await Filesystem.readdir({\r\n      path: 'packs/',\r\n      directory: directory,\r\n      encoding: Encoding.UTF8,\r\n    });\r\n  } catch (err) {\r\n    errors.push('Impossible de lire le contentu du dossier \"packs\"');\r\n    console.log('error reading packs dir ' + err);\r\n  }\r\n\r\n  if (!packsDirContent.files.length) {\r\n    errors.push('Aucune histoire enregistrée dans le dossier \"/Documents/packs/\"');\r\n    console.log(\"pas d'histoire\");\r\n  } else {\r\n    for (let storyDir of packsDirContent.files) {\r\n      //create stories index with all story.json\r\n      if (storyDir.type == 'directory') {\r\n        try {\r\n          var readStoryJson = await Filesystem.readFile({\r\n            path: 'packs/' + storyDir.name + '/story.json',\r\n            directory: directory,\r\n            encoding: Encoding.UTF8,\r\n          });\r\n        } catch (err) {\r\n          errors.push(\r\n            'Impossible de lire le fichier story.json de l\\'histoire \"' +\r\n              storyDir.name +\r\n              '\"'\r\n          );\r\n          console.log('error reading story.json ' + err);\r\n        }\r\n\r\n        try {\r\n          var jsonStory = await JSON.parse(readStoryJson.data);\r\n          jsonStory['name'] = storyDir.name;\r\n          jsonStories.push(jsonStory);\r\n        } catch (err) {\r\n          errors.push(\r\n            'Le fichier story.json de l\\'histoire \"' +\r\n              storyDir.name +\r\n              '\" n\\' est pas valide'\r\n          );\r\n          console.log('error parsing json ' + err);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  if (errors.length) {\r\n    return { errors: true, data: errors };\r\n  } else {\r\n    return { errors: false, data: jsonStories };\r\n  }\r\n}\r\n","import { defineStore } from 'pinia';\r\nimport { storiesIndex } from '../data/storiesIndex';\r\nimport { Preferences } from '@capacitor/preferences';\r\n\r\nexport const useStoryStore = defineStore('StoryStore', {\r\n  state: () => {\r\n    return {\r\n      stories: [],\r\n      theme: null,\r\n      contributorPwd: null,\r\n      timelineVisible: null,\r\n      unofficialStore: [],\r\n      downloadedPacks: [],\r\n      installedPacks: [],\r\n      isLoading: false,\r\n      isDone: false,\r\n      howlerIsPlaying: false,\r\n      howlerDuration: 0,\r\n      howlerCurrentPos: 0,\r\n      errors: [],\r\n      activeSlides: [],\r\n      activeStoryIndex: null,\r\n      isAudioActiveSlideSetPlaying: false,\r\n      swiper: {},\r\n      slidesVisible: true,\r\n      homeTransition: null,\r\n      activeAudioSlideHowl: {},\r\n      activeAudioSlideSetHowl: {},\r\n      storyAudioHowl: {},\r\n    };\r\n  },\r\n  actions: {\r\n    fillStoriesIndex() {\r\n      storiesIndex()\r\n        .then((result) => {\r\n          if (result.errors) {\r\n            console.log(result.data);\r\n            this.errors = result.data;\r\n          } else {\r\n            this.stories = result.data;\r\n          }\r\n        })\r\n        .then(() => {\r\n          this.fillIndexSlides();\r\n        })\r\n        .then(() => {\r\n          this.swiper.slideToLoop(0, 100, false);\r\n          this.swiper.emit('realIndexChange');\r\n        });\r\n    },\r\n    fillIndexSlides() {\r\n      //create array of stagesnodes containing squareOne\r\n      var indexSlides = [];\r\n      for (var story of this.stories) {\r\n        for (var stageNode of story.stageNodes) {\r\n          if (stageNode.squareOne) {\r\n            stageNode.name = story.name;\r\n            indexSlides.push(stageNode);\r\n          }\r\n        }\r\n      }\r\n      this.activeSlides = indexSlides;\r\n    },\r\n    setPreferences() {\r\n      Preferences.get({ key: 'theme' }).then((result) => {\r\n        if (!result.value) {\r\n          this.theme = 'lunii';\r\n        } else {\r\n          this.theme = result.value;\r\n        }\r\n      })\r\n      Preferences.get({ key: 'timelineVisible' }).then((result) => {\r\n        if (!result.value) {\r\n          this.timelineVisible = false\r\n        } else {\r\n          this.timelineVisible = result.value\r\n        }\r\n      });\r\n    },\r\n    async loadUnofficialStoreData() {\r\n      let contributorPwd = await Preferences.get({ key: 'contributorPwd' });\r\n      let response = await fetch(\r\n        'https://unofficial-store.000webhostapp.com/data.php?pwd=' +\r\n          contributorPwd.value\r\n      );\r\n      let data = await response.json();\r\n      this.unofficialStore = data;\r\n    },\r\n  },\r\n});\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"js/\" + chunkId + \".\" + {\"78\":\"0d08bc77\",\"168\":\"4c509f76\",\"176\":\"9afe2ee6\",\"226\":\"f42b7950\",\"338\":\"813817d3\",\"400\":\"676eb787\",\"541\":\"7a9abab8\",\"544\":\"7a14871f\",\"576\":\"3a0684da\",\"735\":\"d22ee911\",\"753\":\"0bb92dae\",\"768\":\"87570203\",\"775\":\"4bae21ef\",\"880\":\"792e40dd\",\"990\":\"b07de734\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"css/\" + chunkId + \".\" + \"196e29db\" + \".css\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"bah:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","var createStylesheet = function(chunkId, fullhref, resolve, reject) {\n\tvar linkTag = document.createElement(\"link\");\n\n\tlinkTag.rel = \"stylesheet\";\n\tlinkTag.type = \"text/css\";\n\tvar onLinkComplete = function(event) {\n\t\t// avoid mem leaks.\n\t\tlinkTag.onerror = linkTag.onload = null;\n\t\tif (event.type === 'load') {\n\t\t\tresolve();\n\t\t} else {\n\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\tvar realHref = event && event.target && event.target.href || fullhref;\n\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + realHref + \")\");\n\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n\t\t\terr.type = errorType;\n\t\t\terr.request = realHref;\n\t\t\tlinkTag.parentNode.removeChild(linkTag)\n\t\t\treject(err);\n\t\t}\n\t}\n\tlinkTag.onerror = linkTag.onload = onLinkComplete;\n\tlinkTag.href = fullhref;\n\n\tdocument.head.appendChild(linkTag);\n\treturn linkTag;\n};\nvar findStylesheet = function(href, fullhref) {\n\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n\tfor(var i = 0; i < existingLinkTags.length; i++) {\n\t\tvar tag = existingLinkTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return tag;\n\t}\n\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n\tfor(var i = 0; i < existingStyleTags.length; i++) {\n\t\tvar tag = existingStyleTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\");\n\t\tif(dataHref === href || dataHref === fullhref) return tag;\n\t}\n};\nvar loadStylesheet = function(chunkId) {\n\treturn new Promise(function(resolve, reject) {\n\t\tvar href = __webpack_require__.miniCssF(chunkId);\n\t\tvar fullhref = __webpack_require__.p + href;\n\t\tif(findStylesheet(href, fullhref)) return resolve();\n\t\tcreateStylesheet(chunkId, fullhref, resolve, reject);\n\t});\n}\n// object to store loaded CSS chunks\nvar installedCssChunks = {\n\t143: 0\n};\n\n__webpack_require__.f.miniCss = function(chunkId, promises) {\n\tvar cssChunks = {\"768\":1};\n\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n\t\tpromises.push(installedCssChunks[chunkId] = loadStylesheet(chunkId).then(function() {\n\t\t\tinstalledCssChunks[chunkId] = 0;\n\t\t}, function(e) {\n\t\t\tdelete installedCssChunks[chunkId];\n\t\t\tthrow e;\n\t\t}));\n\t}\n};\n\n// no hmr","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkbah\"] = self[\"webpackChunkbah\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(3837); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","id","module","exports","__exports__","storyStore","useStoryStore","onIonKnobMoveStart","storyAudioHowl","playing","pause","howlerIsPlaying","onIonKnobMoveEnd","detail","seek","value","play","pinFormatter","basePath","directory","Directory","useConvertPath","path","fullPath","convertedPath","Capacitor","async","usePermissionsCheck","checkPermissionsSuccess","Filesystem","data","encoding","Encoding","err","console","log","initHowlers","activeAudioSlideHowl","Howl","src","html5","activeAudioSlideSetHowl","autoplay","useReadAudioActiveSlide","isAudioActiveSlideSetPlaying","activeSlides","length","swiper","realIndex","name","audio","stop","unload","_queue","_src","load","useReadAudioActiveSlideSet","useReadAudioStory","findNextStageNodes","okTransition","actionNode","stories","activeStoryIndex","actionNodes","options","optionIndex","findNextActionNode","nextStageNodes","stageNode","stageNodes","uuid","detectTypeOfStageNode","controlSettings","home","ok","wheel","image","type","displaySlideSet","actionNodeIds","stageNodeIds","stageOption","push","modules","EffectFlip","router","useRouter","debug","Preferences","key","result","homeButton","slidesVisible","homeTransition","fillIndexSlides","slideToLoop","emit","handleSlideClick","pauseButton","onSwiper","storeActiveStoryIndex","index","oldOkTransition","nextActionNode","typeOfActionNode","once","setInterval","howlerCurrentPos","onBeforeMount","setPreferences","onMounted","alert","alertController","header","subHeader","message","buttons","text","handler","window","cordova","plugins","settings","open","cssClass","present","fillStoriesIndex","insomnia","keepAwake","afterEach","to","$subscribe","mutation","events","errors","join","routes","redirect","component","HomePage","beforeEnter","screen","orientation","lock","PreferencesPage","children","createRouter","history","createWebHistory","process","CapacitorUpdater","pinia","createPinia","app","createApp","App","use","IonicVue","mount","storiesIndex","jsonStories","mainDirContent","createPacksDir","dirName","files","packsDirContent","storyDir","readStoryJson","jsonStory","JSON","parse","defineStore","state","theme","contributorPwd","timelineVisible","unofficialStore","downloadedPacks","installedPacks","isLoading","isDone","howlerDuration","actions","this","indexSlides","story","squareOne","response","fetch","json","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","Object","every","splice","r","d","definition","o","defineProperty","enumerable","get","f","chunkId","all","reduce","promises","u","miniCssF","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","call","inProgress","dataWebpackPrefix","l","url","done","script","needAttach","scripts","document","getElementsByTagName","s","getAttribute","createElement","charset","timeout","nc","setAttribute","onScriptComplete","prev","event","onerror","onload","clearTimeout","doneFns","parentNode","removeChild","forEach","setTimeout","bind","target","head","appendChild","Symbol","toStringTag","p","createStylesheet","fullhref","reject","linkTag","rel","onLinkComplete","errorType","realHref","href","request","findStylesheet","existingLinkTags","tag","dataHref","existingStyleTags","loadStylesheet","installedCssChunks","miniCss","cssChunks","installedChunks","installedChunkData","promise","error","loadingEnded","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}